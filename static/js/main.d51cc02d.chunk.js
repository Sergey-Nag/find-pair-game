(this["webpackJsonpfind-pair-game"]=this["webpackJsonpfind-pair-game"]||[]).push([[0],{31:function(e,a,t){},36:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var c=t(0),r=t.n(c),n=t(16),i=t.n(n),s=(t(31),t(5)),l=t(26),d=t(4),o=t(8),b=(t(36),t(1));var u=function(e){var a=e.children,t=e.clickHandler,c=e.variant,r=e.isCheckbox,n=e.checked;return Object(b.jsxs)("button",{className:"button button__".concat(c),type:"button",onClick:t,children:[r&&Object(b.jsxs)("div",{className:"button__box",children:[Object(b.jsx)("div",{className:"button__checkbox ".concat(n?"active":"")}),a]}),!r&&a]})},j=function(e,a){var t=new Date;return t.setTime(1e3*a+1e3*e*60),t.valueOf()},m=function(e,a){var t=Object(o.a)(e,2),r=t[0],n=t[1],i=Object(c.useRef)(null),s=Object(c.useState)(!1),l=Object(o.a)(s,2),d=l[0],b=l[1],u=Object(c.useState)(!1),m=Object(o.a)(u,2),O=m[0],v=m[1],p=Object(c.useState)(!1),_=Object(o.a)(p,2),f=_[0],g=_[1],h=Object(c.useState)(!1),x=Object(o.a)(h,2),y=x[0],N=x[1],k=Object(c.useState)(j(r,n)),w=Object(o.a)(k,2),E=w[0],S=w[1],P=Object(c.useState)(E),C=Object(o.a)(P,2),L=C[0],T=C[1],D=Object(c.useState)({paused:null,finished:null}),A=Object(o.a)(D,1)[0];Object(c.useEffect)((function(){v(0===L)}),[L]);var I=function(e){N(!1),b(!0),e&&(S(j(e[0],e[1])),g(!0))},M=Object(c.useCallback)((function(){i.current||(A.beforeStart&&A.beforeStart(),i.current=setInterval((function(){T((function(e){return console.log("123"),0===e?(I(),0):e-1e3}))}),a))}),[a,A]),F=Object(c.useCallback)((function(){i.current&&(clearInterval(i.current),i.current=null,N(!1),d||!A.paused||O||A.paused())}),[A,d,O]),G=Object(c.useCallback)((function(){T(E)}),[E]);return Object(c.useEffect)((function(){if(f&&(G(),g(!1)),d)return F(),void(A.finished&&O&&A.finished());y?M():F()}),[d,f,y,M,G,A,F,O]),{start:function(){b(!1),N(!0)},pause:function(){return N(!1)},stop:function(){return b(!0)},restart:I,leftTime:L,callbacks:A}},O="game/start",v="game/pause",p="game/resume",_="game/gameOver",f="game/setTime";var g=function(){var e,a,t=Object(s.c)((function(e){return e.player})),r=Object(s.c)((function(e){return e.game})),n=Object(s.b)(),i=m([3,0],1e3),l=i.start,d=i.pause,o=i.leftTime,u=i.callbacks;Object(c.useEffect)((function(){u.finished=function(){console.log("finished"),0===o&&n({type:v})},u.paused=function(){console.log("paused")},r.isPlaying?l():d()}),[l,d,u,r.isPlaying,o,n]),Object(c.useEffect)((function(){n({type:f,payload:o})}),[o,n]);var j=null!==(e=t.nickname)&&void 0!==e?e:"...",O=null!==(a=r.time)&&void 0!==a?a:"--:--";return Object(b.jsxs)("div",{className:"game__info",children:[Object(b.jsx)("span",{className:"game__nickname",children:j}),Object(b.jsx)("span",{className:"game__time",children:O})]})},h=t(11);t(38);var x=function(e){var a=e.inGame,t=Object(s.c)((function(e){return e.leaderboard})),r=Object(c.useCallback)((function(e){return function(e,a){return"".concat(e<10?"0":"").concat(e,":").concat(a<10?"0":"").concat(a)}(new Date(e).getMinutes(),new Date(e).getSeconds())}),[]),n=Object(c.useCallback)((function(){var e=Object(h.a)(t.list);if(a){e.push({id:"player",nickname:"test",time:0,isPlayer:!0})}return e.sort((function(e,a){return e.time-a.time}))}),[t.list,a]);return Object(b.jsxs)("div",{className:"leaderboard",children:[Object(b.jsx)("div",{className:"leaderboard__head",children:Object(b.jsxs)("div",{className:"leaderboard__row",children:[Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_header",children:"\u2116"}),Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_header",children:"Nickname"}),Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_header leaderboard__col_text_right",children:"Time"})]})}),Object(b.jsx)("div",{className:"leaderboard__body ".concat(a?"":"leaderboard__body_top-players"),children:n().map((function(e){var t=e.id,c=e.nickname,n=e.time,i=e.isPlayer;return Object(b.jsxs)("div",{className:"leaderboard__row ".concat(a&&i?"leaderboard__row_player":""),children:[Object(b.jsx)("div",{className:"leaderboard__col ".concat(a&&i&&0===n?"leaderboard__col_no-counter":"")}),Object(b.jsx)("div",{className:"leaderboard__col",children:c}),Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_text_right",children:r(n)})]},t)}))})]})},y=(t(39),t(40),{android:t.p+"static/media/android.5cea2350.svg",acer:t.p+"static/media/acer.97b43230.svg",apple:t.p+"static/media/apple.e8c87215.svg",beats:t.p+"static/media/beats.338456d2.svg",hp:t.p+"static/media/hp.2435474a.svg",lenovo:t.p+"static/media/lenovo.025f4804.svg",nokia:t.p+"static/media/nokia.4daa5df2.svg",intel:t.p+"static/media/intel.e6451727.svg",dell:t.p+"static/media/dell.39467c58.svg",cisco:t.p+"static/media/cisco.20318700.svg",htc:t.p+"static/media/htc.74cbfad7.svg"});var N=function(e){var a=e.card,t=e.index,c=a.isFlipped,r=a.name;return Object(b.jsxs)("div",{id:"card-".concat(t),className:"card".concat(c?" card_flipped":""),children:[Object(b.jsx)("div",{className:"card__shirt"}),Object(b.jsx)("div",{className:"card__face",style:{backgroundImage:"url(".concat(y[r],")")}}),Object(b.jsx)("div",{className:"card__shadow"})]})},k="cards/pushData",w="cards/addToCompare",E="cards/flipCard";var S=function(e){var a=e.level,t=Object(s.c)((function(e){return e.cards})),r=Object(c.useRef)(null),n=Object(s.b)();return Object(c.useEffect)((function(){var e=r.current,a=function(e){var a=e.target.closest(".card");if(a){var t,c=a.id.split("-")[1];n((t=c,{type:E,payload:function(e){var a=Object(h.a)(e);return a[t].isFlipped=!a[t].isFlipped,a}}))}};return e.addEventListener("click",a),function(){return e.removeEventListener("click",a)}}),[n]),Object(b.jsx)("div",{className:"playground playground__level_".concat(a),ref:r,children:t.list.map((function(e,a){return Object(b.jsx)(N,{index:a,card:e},e.id)}))})},P="player/setNickname",C="player/setScore",L="player/clearScore";t(41);var T=function(){var e=Object(s.c)((function(e){return e.gamemode})),a=Object(s.b)(),t=Object(c.useState)(!1),r=Object(o.a)(t,2),n=r[0],i=r[1];return Object(c.useEffect)((function(){a({type:n?O:v}),a({type:P,payload:"Sergey"})}),[a,n]),console.log("render"),Object(b.jsxs)("div",{className:"game",children:[Object(b.jsxs)("div",{className:"game__interface",children:[Object(b.jsx)(g,{}),Object(b.jsx)("div",{className:"game__leaderboard",children:Object(b.jsx)(x,{inGame:!0})}),Object(b.jsx)("div",{className:"game__button",children:Object(b.jsx)(u,{variant:"danger",clickHandler:function(){return i(!n)},children:"Surrender"})})]}),Object(b.jsx)("div",{className:"game__playground",children:Object(b.jsx)(S,{level:e})}),Object(b.jsx)("div",{className:"game__loader"})]})},D=t(2),A=(t(42),{easy:{img:t.p+"static/media/easy.448b1a60.svg",time:"01:00",layout:"4x4"},medium:{img:t.p+"static/media/medium.57b2e366.svg",time:"02:20",layout:"8x8"},hard:{img:t.p+"static/media/hard.b4764cca.svg",time:"03:50",layout:"14x10"}});var I=function(e){var a=e.level,t=e.active,r=e.onActive,n=Object(c.useState)({}),i=Object(o.a)(n,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){l(Object(D.a)({},A[a]))}),[a,l]),Object(b.jsxs)("div",{className:"gamelevel",children:[Object(b.jsx)("div",{className:"gamelevel__image_wrapp",children:Object(b.jsx)("img",{className:"gamelevel__image".concat(t?" gamelevel__image_active":""),src:s.img,alt:a})}),Object(b.jsx)("div",{className:"gamelevel__info_wrapp",children:Object(b.jsxs)("h3",{className:"gamelevel__info",children:[Object(b.jsx)("span",{className:"gamelevel__name",children:a}),Object(b.jsx)("span",{className:"gamelevel__time",children:s.time})]})}),Object(b.jsx)("div",{className:"gamelevel__button_wrapp",children:Object(b.jsx)(u,{isCheckbox:!0,variant:"primary",checked:t,clickHandler:function(){return r(a)},children:s.layout})})]})},M=(t(43),"gamemode/change");var F=function(){var e=Object(s.c)((function(e){return e.leaderboard})),a=Object(s.c)((function(e){return e.gamemode})),t=Object(s.b)(),r=Object(c.useCallback)((function(e){t({type:M,payload:e})}),[t]);return Object(b.jsxs)("div",{className:"homepage",children:[Object(b.jsxs)("div",{className:"homepage__leaderboard-wrapper",children:[Object(b.jsx)("h1",{className:"homepage__title",children:"Leaderboard"}),Object(b.jsx)(x,{leaders:e.list})]}),Object(b.jsx)("h3",{className:"homepage__subtitle",children:"Select the grid size"}),Object(b.jsxs)("div",{className:"homepage__level-wrapper",children:[Object(b.jsx)(I,{level:"easy",active:"easy"===a,onActive:r}),Object(b.jsx)(I,{level:"medium",active:"medium"===a,onActive:r}),Object(b.jsx)(I,{level:"hard",active:"hard"===a,onActive:r})]}),Object(b.jsx)("div",{className:"homepage__button-wrapper",children:Object(b.jsx)(u,{variant:"large",children:"Play"})})]})};var G=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(l.a,{basename:"/find-pair-game",children:Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{exact:!0,path:"/",children:Object(b.jsx)(F,{})}),Object(b.jsx)(d.a,{exact:!0,path:"/game",children:Object(b.jsx)(T,{})})]})})})},R=t(13),X="leaderboard/loading",H="leaderboard/loaded",U="leaderboard/error",J="leaderboard/clearError",V="leaderboard/pushData",z={list:[{id:1,nickname:"Username",time:1327536135417},{id:3,nickname:"nick",time:1327536265417},{id:2,nickname:"user",time:1327536140417},{id:4,nickname:"nickName",time:1327536161417},{id:5,nickname:"_nickname_123",time:1327536177417},{id:6,nickname:"asd",time:1327536196417}],isLoading:!1,isLoaded:!1,isError:!1,errorMessage:null};var B=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case X:return Object(D.a)(Object(D.a)({},e),{},{isLoading:!0,isLoaded:!1});case H:return Object(D.a)(Object(D.a)({},e),{},{isLoading:!1,isLoaded:!0});case U:return Object(D.a)(Object(D.a)({},e),{},{isError:!0,errorMessage:a.payload});case J:return Object(D.a)(Object(D.a)({},e),{},{isError:!1,errorMessage:null});case V:return Object(D.a)(Object(D.a)({},e),{},{list:a.payload});default:return e}};var q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"easy",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case M:return a.payload;default:return e}},K={compare:[],list:Object(h.a)(new Array(16)).map((function(e,a){return{id:a,name:"apple",isFlipped:!1}}))};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case k:return Object(D.a)(Object(D.a)({},e),{},{list:a.payload});case E:return Object(D.a)(Object(D.a)({},e),{},{list:a.payload(e.list)});case w:return Object(D.a)(Object(D.a)({},e),{},{compare:Object(h.a)(a.payload(e.compare))});default:return e}},W={nickname:null,score:null};var Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case P:return Object(D.a)(Object(D.a)({},e),{},{nickname:a.payload});case C:return Object(D.a)(Object(D.a)({},e),{},{score:a.payload});case L:return Object(D.a)(Object(D.a)({},e),{},{score:null});default:return e}},Z={isPlaying:!1,isPause:!1,isGameOver:!1,time:null};var $=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,a=arguments.length>1?arguments[1]:void 0,t=a.type,c=a.payload;switch(t){case O:return Object(D.a)(Object(D.a)({},e),{},{isPlaying:!0});case v:return Object(D.a)(Object(D.a)({},e),{},{isPlaying:!1,isPause:!0});case p:return Object(D.a)(Object(D.a)({},e),{},{isPause:!1,isPlaying:!0});case _:return Object(D.a)(Object(D.a)({},e),{},{isGameOver:!0,isPlaying:!1});case f:return Object(D.a)(Object(D.a)({},e),{},{time:c});default:return e}},ee=Object(R.b)({player:Y,gamemode:q,leaderboard:B,cards:Q,game:$}),ae=Object(R.c)(ee,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(s.a,{store:ae,children:Object(b.jsx)(G,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.d51cc02d.chunk.js.map