(this["webpackJsonpfind-pair-game"]=this["webpackJsonpfind-pair-game"]||[]).push([[0],{31:function(e,a,t){},36:function(e,a,t){},38:function(e,a,t){},39:function(e,a,t){},40:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},43:function(e,a,t){},45:function(e,a,t){"use strict";t.r(a);var c=t(0),r=t.n(c),n=t(16),i=t.n(n),s=(t(31),t(5)),l=t(26),d=t(4),o=t(6),b=(t(36),t(1));var u=function(e){var a=e.children,t=e.clickHandler,c=e.variant,r=e.isCheckbox,n=e.checked;return Object(b.jsxs)("button",{className:"button button__".concat(c),type:"button",onClick:t,children:[r&&Object(b.jsxs)("div",{className:"button__box",children:[Object(b.jsx)("div",{className:"button__checkbox ".concat(n?"active":"")}),a]}),!r&&a]})},j=function(e,a){return"".concat(e<10?"0":"").concat(e,":").concat(a<10?"0":"").concat(a)},m=function(e){return new Date(e).getMinutes()},O=function(e){return new Date(e).getSeconds()},v=function(e,a){var t=new Date;return t.setTime(1e3*a+1e3*e*60),t.valueOf()},p=function(e,a){var t=Object(o.a)(e,2),r=t[0],n=t[1],i=Object(c.useRef)(null),s=Object(c.useState)(!1),l=Object(o.a)(s,2),d=l[0],b=l[1],u=Object(c.useState)(!1),j=Object(o.a)(u,2),m=j[0],O=j[1],p=Object(c.useState)(!1),_=Object(o.a)(p,2),f=_[0],h=_[1],g=Object(c.useState)(!1),x=Object(o.a)(g,2),y=x[0],N=x[1],k=Object(c.useState)(v(r,n)),w=Object(o.a)(k,2),E=w[0],S=w[1],C=Object(c.useState)(E),L=Object(o.a)(C,2),T=L[0],P=L[1],D=Object(c.useState)({paused:null,finished:null}),A=Object(o.a)(D,1)[0];Object(c.useEffect)((function(){O(0===T)}),[T]);var I=function(e){N(!1),b(!0),e&&(S(v(e[0],e[1])),h(!0))},M=Object(c.useCallback)((function(){i.current||(A.beforeStart&&A.beforeStart(),i.current=setInterval((function(){P((function(e){return console.log("tick"),0===e?(I(),0):e-1e3}))}),a))}),[a,A]),F=Object(c.useCallback)((function(){i.current&&(clearInterval(i.current),i.current=null,N(!1),d||!A.paused||m||A.paused())}),[A,d,m]),G=Object(c.useCallback)((function(){P(E)}),[E]);return Object(c.useEffect)((function(){if(f&&(G(),h(!1)),d)return F(),void(A.finished&&m&&A.finished());y?M():F()}),[d,f,y,M,G,A,F,m]),{start:function(){b(!1),N(!0)},pause:function(){return N(!1)},stop:function(){return b(!0)},restart:I,leftTime:T,callbacks:A}},_="game/start",f="game/pause",h="game/gameOver",g="game/setTime",x="player/setNickname",y="player/setTime",N="player/clearScore",k=[2,20];var w=function(){var e,a=Object(s.c)((function(e){return e.player})),t=Object(s.c)((function(e){return e.game})),r=Object(c.useState)("--:--"),n=Object(o.a)(r,2),i=n[0],l=n[1],d=Object(s.b)(),u=p(k,1e3),_=u.start,h=u.pause,x=u.leftTime,N=u.callbacks;return Object(c.useEffect)((function(){N.finished=function(){console.log("finished"),0===x&&d({type:f})},N.paused=function(){console.log("paused")},t.isPlaying?_():h()}),[_,h,N,t.isPlaying,x,d]),Object(c.useEffect)((function(){d({type:g,payload:x}),d({type:y,payload:v.apply(void 0,k)-x})}),[x,d]),Object(c.useEffect)((function(){var e=m(t.time),a=O(t.time);l(j(e,a))}),[t]),Object(b.jsxs)("div",{className:"game__info",children:[Object(b.jsx)("span",{className:"game__nickname",children:null!==(e=a.nickname)&&void 0!==e?e:"..."}),Object(b.jsx)("span",{className:"game__time",children:i})]})},E=t(11);t(38);var S=function(e){var a=e.inGame,t=Object(s.c)((function(e){return e.leaderboard})),r=Object(s.c)((function(e){return e.player})),n=Object(c.useCallback)((function(e){var a=m(e),t=O(e);return j(a,t)}),[]),i=Object(c.useCallback)((function(){var e=Object(E.a)(t.list);return a&&e.push({id:"player",nickname:r.nickname,time:r.time}),e.sort((function(e,a){return e.time-a.time}))}),[t.list,a,r]);return Object(b.jsxs)("div",{className:"leaderboard",children:[Object(b.jsx)("div",{className:"leaderboard__head",children:Object(b.jsxs)("div",{className:"leaderboard__row",children:[Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_header",children:"\u2116"}),Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_header",children:"Nickname"}),Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_header leaderboard__col_text_right",children:"Time"})]})}),Object(b.jsx)("div",{className:"leaderboard__body ".concat(a?"":"leaderboard__body_top-players"),children:i().map((function(e){var t=e.id,c=e.nickname,r=e.time;return Object(b.jsxs)("div",{className:"leaderboard__row ".concat(a&&"player"===t?"leaderboard__row_player":""),children:[Object(b.jsx)("div",{className:"leaderboard__col ".concat(a&&"player"===t&&0===r?"leaderboard__col_no-counter":"")}),Object(b.jsx)("div",{className:"leaderboard__col",children:c}),Object(b.jsx)("div",{className:"leaderboard__col leaderboard__col_text_right",children:n(r)})]},t)}))})]})},C=(t(39),t(40),{android:t.p+"static/media/android.5cea2350.svg",acer:t.p+"static/media/acer.97b43230.svg",apple:t.p+"static/media/apple.e8c87215.svg",beats:t.p+"static/media/beats.338456d2.svg",hp:t.p+"static/media/hp.2435474a.svg",lenovo:t.p+"static/media/lenovo.025f4804.svg",nokia:t.p+"static/media/nokia.4daa5df2.svg",intel:t.p+"static/media/intel.e6451727.svg",dell:t.p+"static/media/dell.39467c58.svg",cisco:t.p+"static/media/cisco.20318700.svg",htc:t.p+"static/media/htc.74cbfad7.svg"});var L=function(e){var a=e.card,t=e.index,c=a.isFlipped,r=a.name;return Object(b.jsxs)("div",{id:"card-".concat(t),className:"card".concat(c?" card_flipped":""),children:[Object(b.jsx)("div",{className:"card__shirt"}),Object(b.jsx)("div",{className:"card__face",style:{backgroundImage:"url(".concat(C[r],")")}}),Object(b.jsx)("div",{className:"card__shadow"})]})},T="cards/pushData",P="cards/addToCompare",D="cards/flipCard";var A=function(e){var a=e.level,t=Object(s.c)((function(e){return e.cards})),r=Object(c.useRef)(null),n=Object(s.b)();return Object(c.useEffect)((function(){var e=r.current,a=function(e){var a=e.target.closest(".card");if(a){var t,c=a.id.split("-")[1];n((t=c,{type:D,payload:function(e){var a=Object(E.a)(e);return a[t].isFlipped=!a[t].isFlipped,a}}))}};return e.addEventListener("click",a),function(){return e.removeEventListener("click",a)}}),[n]),Object(b.jsx)("div",{className:"playground playground__level_".concat(a),ref:r,children:t.list.map((function(e,a){return Object(b.jsx)(L,{index:a,card:e},e.id)}))})};t(41);var I=function(){var e=Object(s.c)((function(e){return e.gamemode})),a=Object(s.b)(),t=Object(c.useState)(!1),r=Object(o.a)(t,2),n=r[0],i=r[1];return Object(c.useEffect)((function(){a({type:n?_:f}),a({type:x,payload:"Sergey"})}),[a,n]),console.log("render"),Object(b.jsxs)("div",{className:"game",children:[Object(b.jsxs)("div",{className:"game__interface",children:[Object(b.jsx)(w,{}),Object(b.jsx)("div",{className:"game__leaderboard",children:Object(b.jsx)(S,{inGame:!0})}),Object(b.jsx)("div",{className:"game__button",children:Object(b.jsx)(u,{variant:"danger",clickHandler:function(){return i(!n)},children:"Surrender"})})]}),Object(b.jsx)("div",{className:"game__playground",children:Object(b.jsx)(A,{level:e})}),Object(b.jsx)("div",{className:"game__loader"})]})},M=t(2),F=(t(42),{easy:{img:t.p+"static/media/easy.448b1a60.svg",time:"01:00",layout:"4x4"},medium:{img:t.p+"static/media/medium.57b2e366.svg",time:"02:20",layout:"8x8"},hard:{img:t.p+"static/media/hard.b4764cca.svg",time:"03:50",layout:"14x10"}});var G=function(e){var a=e.level,t=e.active,r=e.onActive,n=Object(c.useState)({}),i=Object(o.a)(n,2),s=i[0],l=i[1];return Object(c.useEffect)((function(){l(Object(M.a)({},F[a]))}),[a,l]),Object(b.jsxs)("div",{className:"gamelevel",children:[Object(b.jsx)("div",{className:"gamelevel__image_wrapp",children:Object(b.jsx)("img",{className:"gamelevel__image".concat(t?" gamelevel__image_active":""),src:s.img,alt:a})}),Object(b.jsx)("div",{className:"gamelevel__info_wrapp",children:Object(b.jsxs)("h3",{className:"gamelevel__info",children:[Object(b.jsx)("span",{className:"gamelevel__name",children:a}),Object(b.jsx)("span",{className:"gamelevel__time",children:s.time})]})}),Object(b.jsx)("div",{className:"gamelevel__button_wrapp",children:Object(b.jsx)(u,{isCheckbox:!0,variant:"primary",checked:t,clickHandler:function(){return r(a)},children:s.layout})})]})},R=(t(43),"gamemode/change");var X=function(){var e=Object(s.c)((function(e){return e.leaderboard})),a=Object(s.c)((function(e){return e.gamemode})),t=Object(s.b)(),r=Object(c.useCallback)((function(e){t({type:R,payload:e})}),[t]);return Object(b.jsxs)("div",{className:"homepage",children:[Object(b.jsxs)("div",{className:"homepage__leaderboard-wrapper",children:[Object(b.jsx)("h1",{className:"homepage__title",children:"Leaderboard"}),Object(b.jsx)(S,{leaders:e.list})]}),Object(b.jsx)("h3",{className:"homepage__subtitle",children:"Select the grid size"}),Object(b.jsxs)("div",{className:"homepage__level-wrapper",children:[Object(b.jsx)(G,{level:"easy",active:"easy"===a,onActive:r}),Object(b.jsx)(G,{level:"medium",active:"medium"===a,onActive:r}),Object(b.jsx)(G,{level:"hard",active:"hard"===a,onActive:r})]}),Object(b.jsx)("div",{className:"homepage__button-wrapper",children:Object(b.jsx)(u,{variant:"large",children:"Play"})})]})};var H=function(){return Object(b.jsx)("div",{className:"App",children:Object(b.jsx)(l.a,{basename:"/find-pair-game",children:Object(b.jsxs)(d.c,{children:[Object(b.jsx)(d.a,{exact:!0,path:"/",children:Object(b.jsx)(X,{})}),Object(b.jsx)(d.a,{exact:!0,path:"/game",children:Object(b.jsx)(I,{})})]})})})},U=t(13),J="leaderboard/loading",V="leaderboard/loaded",z="leaderboard/error",B="leaderboard/clearError",q="leaderboard/pushData",K={list:[{id:"1",nickname:"Username",time:6e4},{id:"3",nickname:"nick",time:9e4},{id:"2",nickname:"user",time:95e3},{id:"4",nickname:"nickName",time:108e3},{id:"5",nickname:"_nickname_123",time:119e3},{id:"6",nickname:"asd",time:132e3}],isLoading:!1,isLoaded:!1,isError:!1,errorMessage:null};var Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case J:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!0,isLoaded:!1});case V:return Object(M.a)(Object(M.a)({},e),{},{isLoading:!1,isLoaded:!0});case z:return Object(M.a)(Object(M.a)({},e),{},{isError:!0,errorMessage:a.payload});case B:return Object(M.a)(Object(M.a)({},e),{},{isError:!1,errorMessage:null});case q:return Object(M.a)(Object(M.a)({},e),{},{list:a.payload});default:return e}};var W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"easy",a=arguments.length>1?arguments[1]:void 0;switch(a.type){case R:return a.payload;default:return e}},Y={compare:[],list:Object(E.a)(new Array(16)).map((function(e,a){return{id:a,name:"apple",isFlipped:!1}}))};var Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case T:return Object(M.a)(Object(M.a)({},e),{},{list:a.payload});case D:return Object(M.a)(Object(M.a)({},e),{},{list:a.payload(e.list)});case P:return Object(M.a)(Object(M.a)({},e),{},{compare:Object(E.a)(a.payload(e.compare))});default:return e}},$={nickname:null,time:null};var ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case x:return Object(M.a)(Object(M.a)({},e),{},{nickname:a.payload});case y:return Object(M.a)(Object(M.a)({},e),{},{time:a.payload});case N:return Object(M.a)(Object(M.a)({},e),{},{time:null});default:return e}},ae={isPlaying:!1,isPause:!1,isGameOver:!1,time:null};var te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,a=arguments.length>1?arguments[1]:void 0,t=a.type,c=a.payload;switch(t){case _:return Object(M.a)(Object(M.a)({},e),{},{isPlaying:!0,isPause:!1});case f:return Object(M.a)(Object(M.a)({},e),{},{isPlaying:!1,isPause:!0});case h:return Object(M.a)(Object(M.a)({},e),{},{isGameOver:!0,isPlaying:!1});case g:return Object(M.a)(Object(M.a)({},e),{},{time:c});default:return e}},ce=Object(U.b)({player:ee,gamemode:W,leaderboard:Q,cards:Z,game:te}),re=Object(U.c)(ce,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(Object(b.jsx)(r.a.StrictMode,{children:Object(b.jsx)(s.a,{store:re,children:Object(b.jsx)(H,{})})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.4acb1704.chunk.js.map